{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useContext, useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { InputBlock } from \"../InputBlock\";\nimport { InputStepCount } from \"../InputStepCount\";\nimport { InputRadioGroup } from \"../InputRadioGroup\";\nimport { StepInfoContext } from \"../../Contexts/StepInfoProvider\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function RoomSize(_ref) {\n  var stepValues = _ref.stepValues,\n    setStepValues = _ref.setStepValues;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    stepCountResult = _useState2[0],\n    setStepCountResult = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inputValue = _useState4[0],\n    setInputValue = _useState4[1];\n  var pricePerm2 = 1;\n  var pricePerRoom = 10;\n  var _useState5 = useState(\"Māja\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    houseType = _useState6[0],\n    setHouseType = _useState6[1];\n  var _useContext = useContext(StepInfoContext),\n    setSteps = _useContext.setSteps,\n    steps = _useContext.steps,\n    currentStep = _useContext.currentStep;\n\n  useEffect(function () {\n    var _objectSpread2;\n    setStepValues({\n      roomCount: inputValue,\n      roomSize: stepCountResult\n    });\n    var totalPrice = 0;\n    if (inputValue) {\n      totalPrice = pricePerm2 * inputValue;\n    }\n    if (stepCountResult) {\n      totalPrice += stepCountResult * pricePerRoom;\n    }\n\n    setSteps(_objectSpread(_objectSpread({}, steps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, currentStep, {\n      roomSizeM2: inputValue,\n      roomCount: stepCountResult,\n      houseType: houseType\n    }), _defineProperty(_objectSpread2, \"totalPrice\", totalPrice), _objectSpread2)));\n  }, [inputValue, stepCountResult]);\n  return _jsxs(ScrollView, {\n    children: [_jsx(InputBlock, {\n      inputValue: inputValue,\n      setInputValue: setInputValue,\n      numeric: true\n    }), _jsx(InputStepCount, {\n      setStepCountResult: setStepCountResult\n    }), _jsx(InputRadioGroup, {\n      setHouseType: setHouseType,\n      options: [\"Māja\", \"Dzīvoklis\", \"Viesu māja\"]\n    })]\n  });\n}\nexport var styles = StyleSheet.create({});","map":{"version":3,"names":["React","useContext","useEffect","useState","InputBlock","InputStepCount","InputRadioGroup","StepInfoContext","RoomSize","stepValues","setStepValues","stepCountResult","setStepCountResult","inputValue","setInputValue","pricePerm2","pricePerRoom","houseType","setHouseType","setSteps","steps","currentStep","roomCount","roomSize","totalPrice","roomSizeM2","styles","StyleSheet","create"],"sources":["/usr/local/var/www/saubram-app/Components/Steps/RoomSize.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { StyleSheet, ScrollView } from \"react-native\";\nimport { InputBlock } from \"../InputBlock\";\nimport { InputStepCount } from \"../InputStepCount\";\nimport { InputRadioGroup } from \"../InputRadioGroup\";\nimport { StepInfoContext } from \"../../Contexts/StepInfoProvider\";\n\nexport function RoomSize({ stepValues, setStepValues }) {\n  const [stepCountResult, setStepCountResult] = useState(0);\n  const [inputValue, setInputValue] = useState(0);\n  const pricePerm2 = 1;\n  const pricePerRoom = 10;\n\n  const [houseType, setHouseType] = useState(\"Māja\");\n  const { setSteps, steps, currentStep } = useContext(StepInfoContext);\n  // const [price, setPrice] = useState(0);\n\n  useEffect(() => {\n    setStepValues({\n      roomCount: inputValue,\n      roomSize: stepCountResult,\n    });\n\n    let totalPrice = 0;\n    if (inputValue) {\n      totalPrice = pricePerm2 * inputValue;\n    }\n\n    if (stepCountResult) {\n      totalPrice += stepCountResult * pricePerRoom;\n    }\n    // console.log(inputValue, stepCountResult);\n\n    setSteps({\n      ...steps,\n      [currentStep]: {\n        roomSizeM2: inputValue,\n        roomCount: stepCountResult,\n        houseType: houseType,\n      },\n      totalPrice: totalPrice,\n    });\n  }, [inputValue, stepCountResult]);\n\n  return (\n    <ScrollView>\n      <InputBlock\n        inputValue={inputValue}\n        setInputValue={setInputValue}\n        numeric={true}\n      />\n      <InputStepCount setStepCountResult={setStepCountResult} />\n      <InputRadioGroup\n        setHouseType={setHouseType}\n        options={[\"Māja\", \"Dzīvoklis\", \"Viesu māja\"]}\n      />\n    </ScrollView>\n  );\n}\n\nexport const styles = StyleSheet.create({});\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAE/D,SAASC,UAAU;AACnB,SAASC,cAAc;AACvB,SAASC,eAAe;AACxB,SAASC,eAAe;AAA0C;AAAA;AAElE,OAAO,SAASC,QAAQ,OAAgC;EAAA,IAA7BC,UAAU,QAAVA,UAAU;IAAEC,aAAa,QAAbA,aAAa;EAClD,gBAA8CP,QAAQ,CAAC,CAAC,CAAC;IAAA;IAAlDQ,eAAe;IAAEC,kBAAkB;EAC1C,iBAAoCT,QAAQ,CAAC,CAAC,CAAC;IAAA;IAAxCU,UAAU;IAAEC,aAAa;EAChC,IAAMC,UAAU,GAAG,CAAC;EACpB,IAAMC,YAAY,GAAG,EAAE;EAEvB,iBAAkCb,QAAQ,CAAC,MAAM,CAAC;IAAA;IAA3Cc,SAAS;IAAEC,YAAY;EAC9B,kBAAyCjB,UAAU,CAACM,eAAe,CAAC;IAA5DY,QAAQ,eAARA,QAAQ;IAAEC,KAAK,eAALA,KAAK;IAAEC,WAAW,eAAXA,WAAW;;EAGpCnB,SAAS,CAAC,YAAM;IAAA;IACdQ,aAAa,CAAC;MACZY,SAAS,EAAET,UAAU;MACrBU,QAAQ,EAAEZ;IACZ,CAAC,CAAC;IAEF,IAAIa,UAAU,GAAG,CAAC;IAClB,IAAIX,UAAU,EAAE;MACdW,UAAU,GAAGT,UAAU,GAAGF,UAAU;IACtC;IAEA,IAAIF,eAAe,EAAE;MACnBa,UAAU,IAAIb,eAAe,GAAGK,YAAY;IAC9C;;IAGAG,QAAQ,iCACHC,KAAK,6DACPC,WAAW,EAAG;MACbI,UAAU,EAAEZ,UAAU;MACtBS,SAAS,EAAEX,eAAe;MAC1BM,SAAS,EAAEA;IACb,CAAC,iDACWO,UAAU,oBACtB;EACJ,CAAC,EAAE,CAACX,UAAU,EAAEF,eAAe,CAAC,CAAC;EAEjC,OACE,MAAC,UAAU;IAAA,WACT,KAAC,UAAU;MACT,UAAU,EAAEE,UAAW;MACvB,aAAa,EAAEC,aAAc;MAC7B,OAAO,EAAE;IAAK,EACd,EACF,KAAC,cAAc;MAAC,kBAAkB,EAAEF;IAAmB,EAAG,EAC1D,KAAC,eAAe;MACd,YAAY,EAAEM,YAAa;MAC3B,OAAO,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,YAAY;IAAE,EAC7C;EAAA,EACS;AAEjB;AAEA,OAAO,IAAMQ,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module"}
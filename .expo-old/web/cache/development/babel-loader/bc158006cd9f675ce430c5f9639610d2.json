{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { Camera } from \"expo-camera\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { StepInfoContext } from \"../../Contexts/StepInfoProvider\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function PictureBlock(_ref) {\n  var navigation = _ref.navigation,\n    setPictureUrl = _ref.setPictureUrl;\n  var _Camera$useCameraPerm = Camera.useCameraPermissions(),\n    _Camera$useCameraPerm2 = _slicedToArray(_Camera$useCameraPerm, 2),\n    permission = _Camera$useCameraPerm2[0],\n    requestPermission = _Camera$useCameraPerm2[1];\n  var _useState = useState(\"teszt\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    test = _useState2[0],\n    setTest = _useState2[1];\n  var _useContext = useContext(StepInfoContext),\n    setSteps = _useContext.setSteps,\n    steps = _useContext.steps,\n    currentStep = _useContext.currentStep;\n  var makePicture = function makePicture() {\n    setTest(\"make picture\");\n    navigation.navigate(\"Camera\");\n    console.log(\"make picture\");\n  };\n  var addPicture = function addPicture() {\n    setTest(\"add picture\");\n    console.log(\"add picture\");\n  };\n  if (!permission) {\n    return _jsx(View, {});\n  }\n\n  var showImagePicker = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var permissionResult = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (permissionResult.granted === false) {\n        alert(\"You've refused to allow this appp to access your photos!\");\n        return;\n      }\n      var result = yield ImagePicker.launchImageLibraryAsync();\n\n      console.log(result);\n      if (!result.cancelled) {\n        setPictureUrl(result.uri);\n        console.log(result.uri);\n      }\n    });\n    return function showImagePicker() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var openCamera = function () {\n    var _ref3 = _asyncToGenerator(function* (e) {\n      var permissionResult = yield ImagePicker.requestCameraPermissionsAsync();\n      if (permissionResult.granted === false) {\n        alert(\"You've refused to allow this appp to access your camera!\");\n        return;\n      }\n      var result = yield ImagePicker.launchCameraAsync();\n\n      console.log(result);\n      if (!result.cancelled) {\n        setPictureUrl(result.uri);\n        console.log(result.uri);\n      }\n    });\n    return function openCamera(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (!permission.granted) {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"We need your permission to show the camera\"\n      }), _jsx(Button, {\n        onPress: requestPermission,\n        title: \"grant permission\"\n      })]\n    });\n  }\n  return _jsxs(ScrollView, {\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Pievieno bildes pas\\u016Bt\\u012Bjumam\"\n    }), _jsxs(View, {\n      style: styles.buttonBlock,\n      children: [_jsx(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return showImagePicker();\n        },\n        children: _jsxs(View, {\n          style: styles.block,\n          children: [_jsx(AntDesign, {\n            name: \"upload\",\n            size: 24,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.blockTitle,\n            children: \"Pievienot bildi\"\n          })]\n        })\n      }), _jsx(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return openCamera();\n        },\n        children: _jsxs(View, {\n          style: styles.block,\n          children: [_jsx(MaterialIcons, {\n            name: \"photo-camera\",\n            size: 24,\n            color: \"black\"\n          }), _jsx(Text, {\n            style: styles.blockTitle,\n            children: \"Uz\\u0146emt bildi\"\n          })]\n        })\n      }), _jsx(TextInput, {\n        multiline: true,\n        style: styles.textArea,\n        placeholder: \"Vai ir vēl kaut kas, kas mums būtu jāzina?\",\n        numberOfLines: 4\n      })]\n    })]\n  });\n}\nexport var styles = StyleSheet.create({\n  textArea: {\n    paddingLeft: 10,\n    paddingRight: 10,\n    paddingBottom: 10,\n    paddingTop: 10,\n    marginTop: 20,\n    borderWidth: 0.3,\n    borderColor: \"#ccc\",\n    width: \"90%\",\n    height: 70,\n    borderRadius: 5\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"700\",\n    marginBottom: 20\n  },\n  buttonBlock: {\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  block: {\n    marginTop: 10,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    width: \"90%\",\n    borderWidth: 0.3,\n    borderColor: \"#ccc\",\n    height: 100\n  },\n  blockTitle: {\n    paddingLeft: 10,\n    fontSize: 16,\n    fontWeight: \"500\"\n  },\n  container: {\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  camera: {\n    flex: 1\n  },\n  buttonContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"transparent\",\n    margin: 64\n  },\n  button: {\n    flex: 1,\n    alignSelf: \"flex-end\",\n    alignItems: \"center\"\n  },\n  text: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"white\"\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","Camera","ImagePicker","AntDesign","MaterialIcons","StepInfoContext","PictureBlock","navigation","setPictureUrl","useCameraPermissions","permission","requestPermission","test","setTest","setSteps","steps","currentStep","makePicture","navigate","console","log","addPicture","showImagePicker","permissionResult","requestMediaLibraryPermissionsAsync","granted","alert","result","launchImageLibraryAsync","cancelled","uri","openCamera","e","requestCameraPermissionsAsync","launchCameraAsync","styles","container","textAlign","title","buttonBlock","block","blockTitle","textArea","StyleSheet","create","paddingLeft","paddingRight","paddingBottom","paddingTop","marginTop","borderWidth","borderColor","width","height","borderRadius","fontSize","fontWeight","marginBottom","justifyContent","alignItems","display","flexDirection","flex","camera","buttonContainer","backgroundColor","margin","button","alignSelf","text","color"],"sources":["/usr/local/var/www/saubram-app/Components/Steps/PIctureBlock.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  Button,\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableWithoutFeedback,\n} from \"react-native\";\nimport { Camera } from \"expo-camera\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { TextInput } from \"react-native\";\nimport { StepInfoContext } from \"../../Contexts/StepInfoProvider\";\n\nexport function PictureBlock({ navigation, setPictureUrl }) {\n  const [permission, requestPermission] = Camera.useCameraPermissions();\n  const [test, setTest] = useState(\"teszt\");\n  // const [pickedImagePath, setPickedImagePath] = useState(\"\");\n  const { setSteps, steps, currentStep } = useContext(StepInfoContext);\n\n  const makePicture = () => {\n    setTest(\"make picture\");\n\n    navigation.navigate(\"Camera\");\n    console.log(\"make picture\");\n  };\n\n  const addPicture = () => {\n    setTest(\"add picture\");\n    console.log(\"add picture\");\n  };\n\n  if (!permission) {\n    // Camera permissions are still loading\n    return <View />;\n  }\n\n  // This function is triggered when the \"Select an image\" button pressed\n  const showImagePicker = async () => {\n    // Ask the user for the permission to access the media library\n    const permissionResult =\n      await ImagePicker.requestMediaLibraryPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"You've refused to allow this appp to access your photos!\");\n      return;\n    }\n\n    const result = await ImagePicker.launchImageLibraryAsync();\n\n    // Explore the result\n    console.log(result);\n\n    if (!result.cancelled) {\n      setPictureUrl(result.uri);\n      console.log(result.uri);\n    }\n  };\n\n  const openCamera = async (e) => {\n    // Ask the user for the permission to access the camera\n    const permissionResult = await ImagePicker.requestCameraPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"You've refused to allow this appp to access your camera!\");\n      return;\n    }\n\n    const result = await ImagePicker.launchCameraAsync();\n\n    // Explore the result\n    console.log(result);\n\n    if (!result.cancelled) {\n      setPictureUrl(result.uri);\n      console.log(result.uri);\n    }\n  };\n\n  if (!permission.granted) {\n    // Camera permissions are not granted yet\n    return (\n      <View style={styles.container}>\n        <Text style={{ textAlign: \"center\" }}>\n          We need your permission to show the camera\n        </Text>\n        <Button onPress={requestPermission} title=\"grant permission\" />\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView>\n      <Text style={styles.title}>Pievieno bildes pasūtījumam</Text>\n\n      <View style={styles.buttonBlock}>\n        <TouchableWithoutFeedback onPress={() => showImagePicker()}>\n          <View style={styles.block}>\n            <AntDesign name=\"upload\" size={24} color=\"black\" />\n            <Text style={styles.blockTitle}>Pievienot bildi</Text>\n          </View>\n        </TouchableWithoutFeedback>\n        <TouchableWithoutFeedback onPress={() => openCamera()}>\n          <View style={styles.block}>\n            <MaterialIcons name=\"photo-camera\" size={24} color=\"black\" />\n            <Text style={styles.blockTitle}>Uzņemt bildi</Text>\n          </View>\n        </TouchableWithoutFeedback>\n        <TextInput\n          multiline\n          style={styles.textArea}\n          placeholder={\"Vai ir vēl kaut kas, kas mums būtu jāzina?\"}\n          numberOfLines={4}\n        />\n      </View>\n    </ScrollView>\n  );\n}\n\nexport const styles = StyleSheet.create({\n  textArea: {\n    paddingLeft: 10,\n    paddingRight: 10,\n    paddingBottom: 10,\n    paddingTop: 10,\n    marginTop: 20,\n    borderWidth: 0.3,\n    borderColor: \"#ccc\",\n    width: \"90%\",\n    height: 70,\n    borderRadius: 5,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"700\",\n    marginBottom: 20,\n  },\n  buttonBlock: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  block: {\n    marginTop: 10,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    width: \"90%\",\n    borderWidth: 0.3,\n    borderColor: \"#ccc\",\n    height: 100,\n  },\n  blockTitle: {\n    paddingLeft: 10,\n    fontSize: 16,\n    fontWeight: \"500\",\n  },\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n  },\n  camera: {\n    flex: 1,\n  },\n  buttonContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"transparent\",\n    margin: 64,\n  },\n  button: {\n    flex: 1,\n    alignSelf: \"flex-end\",\n    alignItems: \"center\",\n  },\n  text: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}